<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body>
**********************************************************************<br>
FTSC FIDONET TECHNICAL STANDARDS COMMITTEE<br>
**********************************************************************
<p>Publication: FTS-4009<br>
  Revision: 1<br>
  Title: Netmail tracking (Via)<br>
  Author: FTSC<br>
  Issue Date: 16 May 2003<br>
  Review Date: 16 May 2005<br>
  ----------------------------------------------------------------------<br>
  Contents:<br>
  1. Current practice<br>
  2. Control paragraph specification<br>
  3. Examples<br>
  4. Deprecated formats<br>
  A. References<br>
  B. History<br>
  ----------------------------------------------------------------------</p>
<p>Status of this document<br>
  -----------------------</p>
<p> This document is a Fidonet Technical Standard (FTS), issued by the<br>
  FTSC for the benefit of the Fidonet community.</p>
<p> This document is based on the FSP-1010 proposal by Colin Turner,<br>
  2:443/13, and Joaquim Homrighausen, 2:201/330.<br>
  <br>
  This document is released to the public domain, and may be used,<br>
  copied or modified for any purpose whatsoever.</p>
<p><br>
  1. Current practice<br>
  -------------------</p>
<p> As Netmail messages are routed through FidoNet, or as they are<br>
  processed on a system, Via control paragraphs are added to track<br>
  their progress.<br>
  <br>
  The Via control paragraphs are stored in a block which starts after<br>
  any message text. New Via lines should be added to the end of the<br>
  block separated from the preceding control paragraph by a single<br>
  ASCII carriage-return character (0Dh). There is no limit to the<br>
  number of Via control paragraphs in each message.</p>
<p> Note that the &quot;Via&quot; tag is in mixed case, not all upper case like<br>
  most control tags.<br>
  <br>
  A Via control paragraph is typically added:<br>
  <br>
  when a Netmail packer packs the Netmail for transmission to<br>
  another system;<br>
  <br>
  when a netmail tracker inspects a Netmail.</p>
<p><br>
  2. Control paragraph specification<br>
  ----------------------------------</p>
<p> The Via control paragraph is formatted as a number of fields,<br>
  separated by single space (20h) characters, as follows<br>
  <br>
  ^AVia &lt;FTN Address&gt; @YYYYMMDD.HHMMSS[.Precise][.Time Zone] <br>
  &lt;Program Name&gt; &lt;Version&gt; [Serial Number]&lt;CR&gt;<br>
  <br>
  Where ^A denotes the ASCII &lt;SOH&gt; (01h) character, and &lt;CR&gt; is the<br>
  carriage-return character (0Dh).<br>
  <br>
  The fields are defined as follows:<br>
  <br>
  FTN Address<br>
  -----------</p>
<p> This field is mandatory and is the FidoNet Technology address of <br>
  the system inserting the control paragraph, using standard Fidonet<br>
  addressing notation, Z:N/F[.P][@domain]<br>
  <br>
  @YYYYMMDD.HHMMSS<br>
  ----------------<br>
  <br>
  This field is mandatory and consists of a time stamp. This is the<br>
  time at which the stamp was placed. The subcomponents are<br>
  <br>
  YYYY, the calendar year, in full four digit, decimal form;<br>
  MM, the calendar month, in the range 01 to 12, this must be a<br>
  zero padded, two digit decimal number;<br>
  DD, the day of the month, in the range 01 to 31, this must be a<br>
  zero padded, two digit decimal number;<br>
  HH, hours, in the range 00 to 23, this must be a zero padded,<br>
  two digit decimal number;<br>
  MM, minutes, in the range 00 to 59, this must be a zero padded,<br>
  two digit decimal number;<br>
  SS. seconds, in the range 00 to 59, this must be a zero padded,<br>
  two digit decimal number.<br>
  <br>
  Precise<br>
  -------<br>
  <br>
  This field is optional and takes the form of extra precision in the<br>
  time stamp.<br>
  <br>
  If this field is present:<br>
  <br>
  it must begin with a single period character;<br>
  <br>
  this period must be followed by one or more decimal digits;<br>
  <br>
  the field has ended when another period or space is encountered;<br>
  <br>
  each decimal digit in the field following this character<br>
  represents the time of the via line in fractions of a second,<br>
  such that the the first digit represents tenths of a second,<br>
  the second digit represents hundreds of a second and so on.</p>
<p> Robust implementations must check to ensure this field is numeric to<br>
  avoid confusion with the Time Zone field.<br>
  <br>
  Time Zone<br>
  ---------</p>
<p> This field is optional, and must be a short, widely accepted<br>
  alphabetical abbreviation of the time zone that the time stamp<br>
  in the Via line pertains to.<br>
  <br>
  The use of various Time Zone values is deprecated, implementations<br>
  should attempt to convert the timestamp in the control paragraph to<br>
  Universal Time (GMT or UTC) and use the &quot;UTC&quot; Time Zone indicator,<br>
  where possible.<br>
  <br>
  The Time Zone field may only be omitted when it is not possible for<br>
  the implementation to determine the correct offset from UTC, and in<br>
  this case the time stamp must represent local time on the generating<br>
  system.</p>
<p> Robust implementations must check to ensure this field is not<br>
  numeric to avoid confusion with the Precise field.<br>
  <br>
  Program Name<br>
  ------------<br>
  <br>
  This field is a mandatory string field of up to ten (10) characters<br>
  naming the product inserting the Via line.<br>
  <br>
  Version<br>
  -------</p>
<p> This field is a mandatory string field of up to ten (10) characters<br>
  specifying the version of the product inserting the Via line,<br>
  including any alpha, beta or gamma status.<br>
  <br>
  Serial Number<br>
  -------------<br>
  <br>
  This field is an optional string field of up to ten (10) characters<br>
  identifying the specific copy of the product inserting the Via line.</p>
<p><br>
  3. Examples<br>
  -----------</p>
<p> Example of valid usage are<br>
  <br>
  ^AVia 1:2/3 @19990305.043212.UTC O/T-Track+ 2.69<br>
  ^AVia 1:2/3@fidonet @19980331.231202.UTC FrontDoor 2.32.mL<br>
  ^AVia 1:2/3.0 @19990101.002102.UTC FastEcho 1.46.1 21321<br>
  ^AVia 1:2/3 @19990323.230132 FakeMail 1.2<br>
  ^AVia 1:2/3 @20030403.182824.UTC Gleipner/Java 1.0/pre<br>
  ^AVia 1:2/3 @20030403.193223.UTC hpt 1.2.2-stable/os2<br>
  ^AVia D'Bridge 1.58 1:2/3 04/03 20:47<br>
  ^AVia 1:2/3@fidonet @20030404.030004.UTC O/T-Track+ 2.66b<br>
  ^AVia Squish/386 1.11 1:2/3, Thu Apr 03 2003 at 23:16 UTC<br>
  ^AVia 1:2/3 FTrack 3.1/W32 04 Apr 2003 09:33:07 UTC+1000<br>
  ^AVia ifmail 1:2/3@fidonet, Fri Apr 11 2003 at 06:01 (2.15)<br>
  ^AVia RTrk+ 1:2/3@fidonet, Apr 22 2003 at 18:25<br>
  ^AVia BBBS/NT v4.01 Flag-4 1:2/3.0, @030505155114 EDT+5</p>
<p><br>
  4. Deprecated formats<br>
  ---------------------</p>
<p> Some other formats for the Via line are in use today, but these<br>
  formats are rather variable and inconsistent in nature, while<br>
  the format specified above is both more widespread and more<br>
  consistent.<br>
  <br>
  New implementations may need to parse these formats, but must not<br>
  generate them.<br>
  <br>
  The formats in use include, but are not limited to<br>
  <br>
  &lt;NAME&gt; [VERSION] [SERIAL] &lt;ADDRESS&gt; &lt;TIMESTAMP&gt; &lt;TIMEZONE&gt;<br>
  &lt;NAME&gt; &lt;ADDRESS&gt;, &lt;TIMESTAMP&gt; &lt;TIMEZONE&gt; &lt;VERSION&gt;<br>
  <br>
  Not that the time stamp in the above formats is also widely<br>
  variable, and takes forms which include, but may not be limited to<br>
  <br>
  &lt;Day&gt; &lt;Month&gt; &lt;Year&gt; AT &lt;Hour&gt;:&lt;Min&gt;:[Sec]<br>
  &lt;Day of Week&gt; &lt;Month&gt; &lt;Day of Month&gt; &lt;Year&gt; &lt;Hour&gt;:&lt;Min&gt;:&lt;Sec&gt;<br>
  ON &lt;Day of Month&gt; &lt;Month&gt; &lt;Year&gt; &lt;Hour&gt;:&lt;Min&gt;:&lt;Sec&gt;<br>
  &lt;Month&gt;/&lt;Day&gt; &lt;Hour&gt;:&lt;Min&gt;<br>
  @YYMMDDHHMMSS<br>
  <br>
  In the last listed format, observe in particular the two digit year<br>
  and lack of period to separate the date from time.</p>
<p><br>
  A. References<br>
  -------------</p>
<p> [FTS-1] &quot;A Basic FidoNet(r) Technical Standard Revision 16&quot;, Randy<br>
  Bush. September 1995.</p>
<p> [FSC-46] &quot;A Product Identifier for FidoNet Message Handlers&quot;,<br>
  Joaquim Homrighausen, August 1994.</p>
<p><br>
  B. History<br>
  ----------</p>
<p> Rev.1, 20030516: First release (revised from FSP-1010 by FTSC; note<br>
  the lack of a colon after the &quot;Via&quot; tag)</p>
<p>**********************************************************************<br>
</p>
</body>
</html>
